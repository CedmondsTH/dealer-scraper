# ğŸ“Š Dealer Scraper - Visual Diagrams

## ğŸ”„ How the App Works - Complete Flow

### User Interaction Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                         â”‚
â”‚                          ğŸ‘¤ USER                                        â”‚
â”‚                    Opens Web Browser                                    â”‚
â”‚                                                                         â”‚
â”‚              https://dealer-scraper-production.up.railway.app/         â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ğŸ“± STREAMLIT WEB INTERFACE                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                                                                    â”‚ â”‚
â”‚  â”‚  Dealer Scraper                                                   â”‚ â”‚
â”‚  â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                  â”‚ â”‚
â”‚  â”‚                                                                    â”‚ â”‚
â”‚  â”‚  Dealer Group Name:                                               â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚ â”‚
â”‚  â”‚  â”‚ Sonic Automotive                                  â”‚            â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚ â”‚
â”‚  â”‚                                                                    â”‚ â”‚
â”‚  â”‚  Website URL:                                                     â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚ â”‚
â”‚  â”‚  â”‚ https://www.sonicautomotive.com/locations        â”‚            â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚ â”‚
â”‚  â”‚                                                                    â”‚ â”‚
â”‚  â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚ â”‚
â”‚  â”‚              â”‚  Extract Dealerships     â”‚   â† User clicks         â”‚ â”‚
â”‚  â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚ â”‚
â”‚  â”‚                                                                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    âš™ï¸ BACKEND PROCESSING STARTS                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Step 1: SCRAPER SERVICE                   â”‚
        â”‚   â€¢ Receives dealer name & URL              â”‚
        â”‚   â€¢ Initializes scraping workflow           â”‚
        â”‚   â€¢ Manages retry logic                     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Step 2: WEB SCRAPER                       â”‚
        â”‚   â€¢ Attempts HTTP request first             â”‚
        â”‚   â€¢ Falls back to Playwright if needed      â”‚
        â”‚   â€¢ Downloads HTML content                  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Step 3: STRATEGY SELECTOR                 â”‚
        â”‚   â€¢ Checks URL domain                       â”‚
        â”‚   â€¢ Matches to specific strategy            â”‚
        â”‚   â€¢ Falls back to generic if needed         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Step 4: DATA EXTRACTION                   â”‚
        â”‚   â€¢ Parses HTML with BeautifulSoup          â”‚
        â”‚   â€¢ Finds dealership containers             â”‚
        â”‚   â€¢ Extracts name, address, phone           â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Step 5: DATA CLEANING                     â”‚
        â”‚   â€¢ Parse addresses (street/city/state)     â”‚
        â”‚   â€¢ Remove duplicate locations              â”‚
        â”‚   â€¢ Validate required fields                â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Step 6: DATA SERVICE                      â”‚
        â”‚   â€¢ Creates pandas DataFrame                â”‚
        â”‚   â€¢ Formats columns                         â”‚
        â”‚   â€¢ Generates Excel file                    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     âœ… RESULTS DISPLAYED                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                                                                    â”‚ â”‚
â”‚  â”‚  âœ“ Successfully extracted 138 dealerships!                        â”‚ â”‚
â”‚  â”‚                                                                    â”‚ â”‚
â”‚  â”‚  Extraction Summary                                               â”‚ â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                            â”‚ â”‚
â”‚  â”‚  Total Locations: 138                                             â”‚ â”‚
â”‚  â”‚  Franchised: 138                                                  â”‚ â”‚
â”‚  â”‚  Unique Brands: 8                                                 â”‚ â”‚
â”‚  â”‚  Countries: 1                                                     â”‚ â”‚
â”‚  â”‚                                                                    â”‚ â”‚
â”‚  â”‚  [Download Excel]                                                 â”‚ â”‚
â”‚  â”‚                                                                    â”‚ â”‚
â”‚  â”‚  Preview:                                                         â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚ Dealership        | City      | State | Phone           â”‚   â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚ â”‚
â”‚  â”‚  â”‚ Audi Birmingham   | Irondale  | AL    | (800) 571-7461  â”‚   â”‚ â”‚
â”‚  â”‚  â”‚ Audi Houston      | Houston   | TX    | (855) 266-9477  â”‚   â”‚ â”‚
â”‚  â”‚  â”‚ BMW Nashville     | Nashville | TN    | (855) 838-7142  â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â”‚                                                                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—ï¸ System Architecture - Component View

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        DEALER SCRAPER SYSTEM                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          PRESENTATION LAYER                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚         src/ui/streamlit_app.py                              â”‚    â”‚
â”‚   â”‚  â€¢ Renders web interface                                     â”‚    â”‚
â”‚   â”‚  â€¢ Handles user input                                        â”‚    â”‚
â”‚   â”‚  â€¢ Displays results                                          â”‚    â”‚
â”‚   â”‚  â€¢ Provides Excel download                                   â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          SERVICE LAYER                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚   â”‚  SCRAPER SERVICE     â”‚    â”‚   DATA SERVICE       â”‚               â”‚
â”‚   â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚    â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”‚               â”‚
â”‚   â”‚  â€¢ Coordinates flow  â”‚    â”‚   â€¢ Processes data   â”‚               â”‚
â”‚   â”‚  â€¢ Manages retries   â”‚â—„â”€â”€â”€â”¤   â€¢ Creates Excel    â”‚               â”‚
â”‚   â”‚  â€¢ Handles errors    â”‚    â”‚   â€¢ Formats output   â”‚               â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚              â”‚                                                          â”‚
â”‚              â–¼                                                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚   â”‚   WEB SCRAPER        â”‚    â”‚  PLAYWRIGHT PROCESS  â”‚               â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”‚    â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚               â”‚
â”‚   â”‚   â€¢ HTTP requests    â”‚â—„â”€â”€â”€â”¤  â€¢ Browser control   â”‚               â”‚
â”‚   â”‚   â€¢ Fetches HTML     â”‚    â”‚   â€¢ JavaScript sites â”‚               â”‚
â”‚   â”‚   â€¢ Headers/cookies  â”‚    â”‚   â€¢ Dynamic content  â”‚               â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       SCRAPING STRATEGY LAYER                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                    STRATEGY MANAGER                             â”‚  â”‚
â”‚   â”‚  â€¢ Selects appropriate strategy                                â”‚  â”‚
â”‚   â”‚  â€¢ Tries specific strategies first                             â”‚  â”‚
â”‚   â”‚  â€¢ Falls back to generic strategies                            â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                              â”‚                                          â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚              â–¼               â–¼                â–¼                        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚   â”‚   SPECIFIC     â”‚  â”‚    GENERIC     â”‚  â”‚   FALLBACK     â”‚         â”‚
â”‚   â”‚  STRATEGIES    â”‚  â”‚   STRATEGIES   â”‚  â”‚  STRATEGIES    â”‚         â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”‚
â”‚   â”‚ â€¢ Lithia       â”‚  â”‚ â€¢ Dealer.com   â”‚  â”‚ â€¢ JSON-LD      â”‚         â”‚
â”‚   â”‚ â€¢ Sonic        â”‚  â”‚ â€¢ Generic HTML â”‚  â”‚ â€¢ JavaScript   â”‚         â”‚
â”‚   â”‚ â€¢ Group1       â”‚  â”‚ â€¢ DealerOn     â”‚  â”‚ â€¢ LLM Fallback â”‚         â”‚
â”‚   â”‚ â€¢ Hudson       â”‚  â”‚ â€¢ Banister     â”‚  â”‚ â€¢ Learned Rulesâ”‚         â”‚
â”‚   â”‚ â€¢ AutoCanada   â”‚  â”‚ â€¢ Heading/Addr â”‚  â”‚                â”‚         â”‚
â”‚   â”‚ â€¢ Cooper       â”‚  â”‚                â”‚  â”‚                â”‚         â”‚
â”‚   â”‚ â€¢ Courtesy     â”‚  â”‚                â”‚  â”‚                â”‚         â”‚
â”‚   â”‚ â€¢ Ray Skillman â”‚  â”‚                â”‚  â”‚                â”‚         â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          UTILITY LAYER                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚   â”‚  ADDRESS PARSER      â”‚        â”‚   DATA CLEANER       â”‚            â”‚
â”‚   â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚        â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”‚            â”‚
â”‚   â”‚  â€¢ Parse addresses   â”‚        â”‚   â€¢ Remove dupes     â”‚            â”‚
â”‚   â”‚  â€¢ Extract city      â”‚        â”‚   â€¢ Validate data    â”‚            â”‚
â”‚   â”‚  â€¢ Extract state     â”‚        â”‚   â€¢ Normalize fields â”‚            â”‚
â”‚   â”‚  â€¢ Extract zip       â”‚        â”‚   â€¢ Quality checks   â”‚            â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          DATA LAYER                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚   â”‚   CONFIGURATION      â”‚        â”‚   LEARNED RULES      â”‚            â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”‚        â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”‚            â”‚
â”‚   â”‚   â€¢ config.py        â”‚        â”‚   â€¢ rules.json       â”‚            â”‚
â”‚   â”‚   â€¢ Timeouts         â”‚        â”‚   â€¢ Pattern storage  â”‚            â”‚
â”‚   â”‚   â€¢ Output columns   â”‚        â”‚   â€¢ Rule learning    â”‚            â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“‚ File Structure - Visual Tree

```
dealer-scraper/
â”‚
â”œâ”€ğŸ¯ ENTRY POINTS & CONFIGURATION
â”‚  â”œâ”€â”€ run.py â˜…                         Main entry point - starts Streamlit app
â”‚  â”œâ”€â”€ config.py â˜…                      All app settings & configuration
â”‚  â”œâ”€â”€ requirements.txt â˜…               Production dependencies
â”‚  â”œâ”€â”€ requirements-dev.txt             Development tools
â”‚  â”œâ”€â”€ .env                              Environment variables (not in git)
â”‚  â””â”€â”€ rules.json                        Learned scraping patterns
â”‚
â”œâ”€ğŸ³ DEPLOYMENT FILES
â”‚  â”œâ”€â”€ Dockerfile â˜…                     Railway build instructions
â”‚  â”œâ”€â”€ railway.json â˜…                   Railway configuration
â”‚  â”œâ”€â”€ start.sh â˜…                       Startup script
â”‚  â”œâ”€â”€ .gitignore                       Git ignore rules
â”‚  â””â”€â”€ LICENSE                          MIT License
â”‚
â”œâ”€ğŸ“š DOCUMENTATION
â”‚  â”œâ”€â”€ README.md â˜…                      Project overview
â”‚  â”œâ”€â”€ COMPLETE_HANDOFF_GUIDE.md â˜…     Everything in one file!
â”‚  â””â”€â”€ docs/
â”‚      â”œâ”€â”€ HOW_IT_WORKS.md              Architecture explanation
â”‚      â”œâ”€â”€ HANDOFF_NOTES.md             Maintenance guide
â”‚      â””â”€â”€ PROJECT_STRUCTURE.md         Detailed structure
â”‚
â”œâ”€ğŸ“ src/ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” MAIN APPLICATION CODE
â”‚  â”‚
â”‚  â”œâ”€â”€ __init__.py
â”‚  â”œâ”€â”€ models.py â˜…                      Data structures & models
â”‚  â”œâ”€â”€ exceptions.py                    Custom error classes
â”‚  â”œâ”€â”€ py.typed                         Type hints marker
â”‚  â”‚
â”‚  â”œâ”€ğŸ¯ scrapers/ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” SCRAPING ENGINE
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€ __init__.py
â”‚  â”‚  â”œâ”€â”€ base_scraper.py â˜…             Core scraping logic
â”‚  â”‚  â”œâ”€â”€ scraper_registry.py           Strategy registration
â”‚  â”‚  â”œâ”€â”€ strategy_manager.py â˜…         Coordinates all strategies
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ğŸ¨ strategies/ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 14 EXTRACTION METHODS
â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ __init__.py
â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€[SPECIFIC STRATEGIES - Try First]
â”‚  â”‚  â”‚  â”œâ”€â”€ lithia_strategy.py â˜…       Lithia Motors (200+ locations)
â”‚  â”‚  â”‚  â”œâ”€â”€ sonic_dealercom_strategy.py â˜… Sonic Automotive (138+ locs)
â”‚  â”‚  â”‚  â”œâ”€â”€ group1_automotive_strategy.py â˜… Group 1 (154+ locs)
â”‚  â”‚  â”‚  â”œâ”€â”€ hudson_automotive_strategy.py â˜… Hudson (JS-heavy)
â”‚  â”‚  â”‚  â”œâ”€â”€ autocanada_strategy.py     AutoCanada
â”‚  â”‚  â”‚  â”œâ”€â”€ cooper_auto_strategy.py    Cooper Auto Family
â”‚  â”‚  â”‚  â”œâ”€â”€ courtesy_automotive_strategy.py Courtesy Automotive
â”‚  â”‚  â”‚  â””â”€â”€ ray_skillman_strategy.py   Ray Skillman
â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€[GENERIC STRATEGIES - Fallback]
â”‚  â”‚  â”‚  â”œâ”€â”€ dealercom_content_blocks_strategy.py  Dealer.com sites
â”‚  â”‚  â”‚  â”œâ”€â”€ generic_dealer_strategy.py â˜… Most websites
â”‚  â”‚  â”‚  â”œâ”€â”€ overfuel_locations_strategy.py Overfuel-powered sites
â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€[LAST RESORT STRATEGIES]
â”‚  â”‚  â”‚  â”œâ”€â”€ json_ld_strategy.py        Structured data
â”‚  â”‚  â”‚  â”œâ”€â”€ javascript_strategy.py     JS variables
â”‚  â”‚  â”‚  â”œâ”€â”€ learned_rule_strategy.py   Learned patterns
â”‚  â”‚  â”‚  â”œâ”€â”€ llm_fallback_strategy.py   AI extraction (Gemini)
â”‚  â”‚  â”‚  â””â”€â”€ new_llm_strategy.py        AI extraction (OpenAI)
â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€ğŸ”§ extractors/ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” REUSABLE EXTRACTION TOOLS
â”‚  â”‚     â”œâ”€â”€ __init__.py
â”‚  â”‚     â”œâ”€â”€ banister_extractor.py      Banister-style websites
â”‚  â”‚     â”œâ”€â”€ dealeron_extractor.py      DealerOn websites
â”‚  â”‚     â””â”€â”€ heading_address_extractor.py Heading+address pattern
â”‚  â”‚
â”‚  â”œâ”€âš™ï¸ services/ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” BUSINESS LOGIC
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€ __init__.py
â”‚  â”‚  â”œâ”€â”€ scraper_service.py â˜…          Main coordinator
â”‚  â”‚  â”œâ”€â”€ data_service.py â˜…             Data processing & Excel export
â”‚  â”‚  â”œâ”€â”€ web_scraper.py â˜…              HTTP requests & page fetching
â”‚  â”‚  â”œâ”€â”€ playwright_subprocess.py â˜…    Browser automation for JS sites
â”‚  â”‚  â””â”€â”€ rule_store.py                 Pattern learning & storage
â”‚  â”‚
â”‚  â”œâ”€ğŸ”¨ utils/ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” HELPER UTILITIES
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€ __init__.py
â”‚  â”‚  â”œâ”€â”€ address_parser.py â˜…           Parse & clean addresses
â”‚  â”‚  â””â”€â”€ data_cleaner.py â˜…             Remove duplicates & validate
â”‚  â”‚
â”‚  â””â”€ğŸ¨ ui/ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” USER INTERFACE
â”‚     â”‚
â”‚     â””â”€â”€ streamlit_app.py â˜…            Web app interface
â”‚
â”œâ”€ğŸ§ª tests/ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” AUTOMATED TESTING
â”‚  â”‚
â”‚  â”œâ”€â”€ __init__.py
â”‚  â”œâ”€â”€ conftest.py                      Pytest configuration
â”‚  â”œâ”€â”€ README.md                        Test documentation
â”‚  â”œâ”€â”€ test_basic.py                    Basic functionality
â”‚  â”œâ”€â”€ test_integration_scraping.py     Full workflow tests
â”‚  â”‚
â”‚  â”œâ”€ğŸ“ unit/                           Component tests
â”‚  â”‚  â”œâ”€â”€ test_address_parser.py
â”‚  â”‚  â”œâ”€â”€ test_data_cleaner.py
â”‚  â”‚  â””â”€â”€ test_scraper_service.py
â”‚  â”‚
â”‚  â”œâ”€ğŸ“ integration/                    End-to-end tests
â”‚  â”‚  â””â”€â”€ test_end_to_end.py
â”‚  â”‚
â”‚  â””â”€ğŸ“ fixtures/                       Test data
â”‚
â”œâ”€âš¡ .github/ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” CI/CD AUTOMATION
â”‚  â”‚
â”‚  â””â”€â”€ workflows/
â”‚      â”œâ”€â”€ ci.yml â˜…                     Run tests on push
â”‚      â”œâ”€â”€ integration-tests.yml        Daily integration tests
â”‚      â””â”€â”€ README.md                    Workflow documentation
â”‚
â”œâ”€ğŸ¨ assets/                            Images & Branding
â”‚  â”‚
â”‚  â””â”€â”€ trackhawk_logo.png              Application logo
â”‚
â””â”€ğŸ“¦ archive/                           Legacy Code (Reference Only)
   â”‚
   â”œâ”€â”€ app_legacy.py
   â”œâ”€â”€ old_entry_points/
   â”œâ”€â”€ config_old/
   â”œâ”€â”€ models_old/
   â”œâ”€â”€ scrapers_old/
   â”œâ”€â”€ utils_old/
   â””â”€â”€ ... (historical code, safe to ignore)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

LEGEND:
â˜…      = Critical file - frequently edited
â”â”â”â”â”  = Folder separator
ğŸ¯     = Entry points
ğŸ³     = Deployment
ğŸ“š     = Documentation
ğŸ“     = Folder
ğŸ¯     = Scraping
ğŸ¨     = Strategies/UI
âš™ï¸     = Services
ğŸ”¨     = Utilities
ğŸ§ª     = Tests
âš¡     = CI/CD
ğŸ“¦     = Archive
```

---

## ğŸ”€ Data Flow - Detailed Process

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     DETAILED DATA FLOW DIAGRAM                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

USER INPUT
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Dealer Name: "Sonic"         â”‚
â”‚ URL: "sonic.com/locations"   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. SCRAPER SERVICE                                            â”‚
â”‚    scraper_service.py â†’ scrape_dealer_locations()             â”‚
â”‚                                                               â”‚
â”‚    Actions:                                                   â”‚
â”‚    â€¢ Validates input                                          â”‚
â”‚    â€¢ Logs start time                                          â”‚
â”‚    â€¢ Initializes retry counter                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. WEB SCRAPER                                                â”‚
â”‚    web_scraper.py â†’ fetch_page()                              â”‚
â”‚                                                               â”‚
â”‚    Attempt 1: HTTP Request                                    â”‚
â”‚    â”œâ”€â”€ Try: requests.get(url)                                â”‚
â”‚    â”œâ”€â”€ Headers: User-Agent, Accept-Language                  â”‚
â”‚    â””â”€â”€ Timeout: 30 seconds                                    â”‚
â”‚                                                               â”‚
â”‚    If fails (403/404/timeout):                                â”‚
â”‚    Attempt 2: Alternative Headers                             â”‚
â”‚    â””â”€â”€ Try different User-Agent                               â”‚
â”‚                                                               â”‚
â”‚    If still fails:                                            â”‚
â”‚    Attempt 3: Playwright Browser                              â”‚
â”‚    â””â”€â”€ playwright_subprocess.py                               â”‚
â”‚        â”œâ”€â”€ Launch Chromium browser                            â”‚
â”‚        â”œâ”€â”€ Navigate to URL                                    â”‚
â”‚        â”œâ”€â”€ Wait for content                                   â”‚
â”‚        â””â”€â”€ Extract full HTML                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ HTML Content âœ“
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. STRATEGY SELECTION                                         â”‚
â”‚    strategy_manager.py â†’ select_strategy()                    â”‚
â”‚                                                               â”‚
â”‚    Priority Order:                                            â”‚
â”‚                                                               â”‚
â”‚    [TIER 1] Specific Strategies (try first)                  â”‚
â”‚    â”œâ”€ Check: Is URL sonicautomotive.com?                     â”‚
â”‚    â”‚  â””â”€ YES â†’ Use sonic_dealercom_strategy.py               â”‚
â”‚    â”œâ”€ Check: Is URL lithia.com?                              â”‚
â”‚    â”‚  â””â”€ NO â†’ Continue                                        â”‚
â”‚    â””â”€ ... (check all 8 specific strategies)                  â”‚
â”‚                                                               â”‚
â”‚    [TIER 2] Generic Strategies (if no match)                 â”‚
â”‚    â”œâ”€ Try: dealercom_content_blocks_strategy.py              â”‚
â”‚    â”œâ”€ Try: generic_dealer_strategy.py                        â”‚
â”‚    â””â”€ Try: overfuel_locations_strategy.py                    â”‚
â”‚                                                               â”‚
â”‚    [TIER 3] Fallback Strategies (last resort)                â”‚
â”‚    â”œâ”€ Try: json_ld_strategy.py                               â”‚
â”‚    â”œâ”€ Try: javascript_strategy.py                            â”‚
â”‚    â””â”€ Try: llm_fallback_strategy.py (AI)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ Selected: sonic_dealercom_strategy.py
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. DATA EXTRACTION                                            â”‚
â”‚    sonic_dealercom_strategy.py â†’ extract_dealers()            â”‚
â”‚                                                               â”‚
â”‚    Process:                                                   â”‚
â”‚    â”œâ”€ Parse HTML with BeautifulSoup(html, "lxml")            â”‚
â”‚    â”œâ”€ Find dealer containers:                                â”‚
â”‚    â”‚  soup.find_all('div', class_='location-item')           â”‚
â”‚    â”‚                                                          â”‚
â”‚    â””â”€ For each container:                                    â”‚
â”‚       â”œâ”€ Extract name: div.find('h2', class_='name')         â”‚
â”‚       â”œâ”€ Extract address: div.find('div', class_='address')  â”‚
â”‚       â”œâ”€ Extract phone: div.find('a', href='tel:')           â”‚
â”‚       â”œâ”€ Extract website: div.find('a', class_='website')    â”‚
â”‚       â”‚                                                       â”‚
â”‚       â””â”€ Create dictionary:                                  â”‚
â”‚          {                                                    â”‚
â”‚            'name': 'Audi Birmingham',                         â”‚
â”‚            'street': '1314 Grants Mill Way',                 â”‚
â”‚            'city': 'Irondale',                               â”‚
â”‚            'state': 'AL',                                    â”‚
â”‚            'zip_code': '35210',                              â”‚
â”‚            'phone': '(800) 571-7461',                        â”‚
â”‚            'website': 'audiofbirmingham.com'                 â”‚
â”‚          }                                                    â”‚
â”‚                                                               â”‚
â”‚    Result: List of 138 dealer dictionaries                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ Raw Data: 142 locations found
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. DATA CLEANING & VALIDATION                                â”‚
â”‚    data_cleaner.py & address_parser.py                        â”‚
â”‚                                                               â”‚
â”‚    Step 5a: Address Parsing                                  â”‚
â”‚    address_parser.py â†’ parse_address()                        â”‚
â”‚    â”œâ”€ Input: "1314 Grants Mill Way, Irondale, AL 35210"     â”‚
â”‚    â”œâ”€ Parse into components:                                 â”‚
â”‚    â”‚  â””â”€ Street: "1314 Grants Mill Way"                      â”‚
â”‚    â”‚  â””â”€ City: "Irondale"                                    â”‚
â”‚    â”‚  â””â”€ State: "AL"                                         â”‚
â”‚    â”‚  â””â”€ Zip: "35210"                                        â”‚
â”‚    â””â”€ Normalize abbreviations (Streetâ†’St, Avenueâ†’Ave)        â”‚
â”‚                                                               â”‚
â”‚    Step 5b: Validation                                       â”‚
â”‚    data_cleaner.py â†’ is_valid_dealership()                   â”‚
â”‚    â”œâ”€ Check: Has name? âœ“                                     â”‚
â”‚    â”œâ”€ Check: Has city? âœ“                                     â”‚
â”‚    â”œâ”€ Check: Has state? âœ“                                    â”‚
â”‚    â””â”€ Check: Not test/placeholder data? âœ“                    â”‚
â”‚                                                               â”‚
â”‚    Step 5c: Deduplication                                    â”‚
â”‚    data_cleaner.py â†’ deduplicate_dealers()                   â”‚
â”‚    â”œâ”€ Create unique key: name + city + state                 â”‚
â”‚    â”œâ”€ Remove exact duplicates                                â”‚
â”‚    â””â”€ Keep first occurrence                                  â”‚
â”‚                                                               â”‚
â”‚    Result: 138 valid, unique dealers                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ Clean Data: 138 locations
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. DATA FORMATTING                                            â”‚
â”‚    data_service.py â†’ create_dataframe()                       â”‚
â”‚                                                               â”‚
â”‚    Process:                                                   â”‚
â”‚    â”œâ”€ Convert list of dicts to pandas DataFrame              â”‚
â”‚    â”œâ”€ Reorder columns to match OUTPUT_COLUMNS:               â”‚
â”‚    â”‚  â€¢ Dealership                                            â”‚
â”‚    â”‚  â€¢ Dealer Group                                          â”‚
â”‚    â”‚  â€¢ Dealership Type                                       â”‚
â”‚    â”‚  â€¢ Car Brand                                             â”‚
â”‚    â”‚  â€¢ Address                                               â”‚
â”‚    â”‚  â€¢ City                                                  â”‚
â”‚    â”‚  â€¢ State/Province                                        â”‚
â”‚    â”‚  â€¢ Postal Code                                           â”‚
â”‚    â”‚  â€¢ Phone                                                 â”‚
â”‚    â”‚  â€¢ Country                                               â”‚
â”‚    â”‚  â€¢ Website                                               â”‚
â”‚    â”‚                                                          â”‚
â”‚    â”œâ”€ Add computed columns:                                  â”‚
â”‚    â”‚  â””â”€ Country: "United States of America"                 â”‚
â”‚    â”‚                                                          â”‚
â”‚    â””â”€ Final DataFrame: 138 rows Ã— 11 columns                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ DataFrame âœ“
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 7. EXCEL GENERATION                                           â”‚
â”‚    data_service.py â†’ export_to_excel()                        â”‚
â”‚                                                               â”‚
â”‚    Process:                                                   â”‚
â”‚    â”œâ”€ Create Excel writer with openpyxl                      â”‚
â”‚    â”œâ”€ Write DataFrame to sheet "Dealer Locations"            â”‚
â”‚    â”œâ”€ Auto-adjust column widths                              â”‚
â”‚    â”œâ”€ Add header formatting:                                 â”‚
â”‚    â”‚  â””â”€ Bold, background color, borders                     â”‚
â”‚    â”‚                                                          â”‚
â”‚    â””â”€ Save to BytesIO buffer                                 â”‚
â”‚                                                               â”‚
â”‚    Result: .xlsx file in memory                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ Excel File âœ“
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 8. UI DISPLAY                                                 â”‚
â”‚    streamlit_app.py â†’ render_results()                        â”‚
â”‚                                                               â”‚
â”‚    Display:                                                   â”‚
â”‚    â”œâ”€ Success message: "âœ“ Successfully extracted 138..."     â”‚
â”‚    â”œâ”€ Metrics: Total, Franchised, Brands, Countries          â”‚
â”‚    â”œâ”€ Data preview: First 10 rows                            â”‚
â”‚    â””â”€ Download button: "Download Excel"                      â”‚
â”‚                                                               â”‚
â”‚    User clicks download:                                     â”‚
â”‚    â””â”€ st.download_button() sends Excel file to browser       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ USER DOWNLOADS EXCEL FILE     â”‚
â”‚                              â”‚
â”‚ Sonic_Automotive_138_locs.xlsxâ”‚
â”‚                              â”‚
â”‚ âœ… Process Complete!          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

TOTAL TIME: ~30 seconds
```

---

## ğŸš€ Deployment Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        DEPLOYMENT FLOW                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

DEVELOPER'S COMPUTER
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. Code Changes Made    â”‚
â”‚     â€¢ Edit Python files  â”‚
â”‚     â€¢ Test locally       â”‚
â”‚     â€¢ Commit changes     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ git push origin main
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           GITHUB                                         â”‚
â”‚  https://github.com/CedmondsTH/dealer-scraper                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  2. GitHub Actions Triggered                                            â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚     â”‚  CI Pipeline (.github/workflows/ci.yml)                        â”‚ â”‚
â”‚     â”‚                                                                 â”‚ â”‚
â”‚     â”‚  Job 1: Test (Python 3.10, 3.11)                               â”‚ â”‚
â”‚     â”‚  â”œâ”€ Checkout code                                              â”‚ â”‚
â”‚     â”‚  â”œâ”€ Install dependencies                                       â”‚ â”‚
â”‚     â”‚  â”œâ”€ Run pytest                                                 â”‚ â”‚
â”‚     â”‚  â””â”€ Upload coverage âœ“                                          â”‚ â”‚
â”‚     â”‚                                                                 â”‚ â”‚
â”‚     â”‚  Job 2: Lint                                                   â”‚ â”‚
â”‚     â”‚  â”œâ”€ Run Black (code formatting) âœ“                              â”‚ â”‚
â”‚     â”‚  â”œâ”€ Run isort (import sorting) âœ“                               â”‚ â”‚
â”‚     â”‚  â”œâ”€ Run Flake8 (linting) âœ“                                     â”‚ â”‚
â”‚     â”‚  â””â”€ All checks pass! âœ“                                         â”‚ â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                          â”‚
â”‚  3. Push Event Detected by Railway                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â”‚ Webhook triggers deployment
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          RAILWAY.APP                                     â”‚
â”‚  https://railway.app                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  4. Build Process Starts                                                â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚     â”‚  Using: Dockerfile                                             â”‚ â”‚
â”‚     â”‚                                                                 â”‚ â”‚
â”‚     â”‚  FROM python:3.11-slim                                         â”‚ â”‚
â”‚     â”‚  WORKDIR /app                                                  â”‚ â”‚
â”‚     â”‚                                                                 â”‚ â”‚
â”‚     â”‚  RUN pip install -r requirements.txt  â† 1-2 minutes            â”‚ â”‚
â”‚     â”‚  RUN playwright install chromium      â† 1-2 minutes            â”‚ â”‚
â”‚     â”‚  RUN playwright install-deps          â† 30 seconds             â”‚ â”‚
â”‚     â”‚                                                                 â”‚ â”‚
â”‚     â”‚  COPY . .                                                       â”‚ â”‚
â”‚     â”‚  RUN chmod +x start.sh                                         â”‚ â”‚
â”‚     â”‚                                                                 â”‚ â”‚
â”‚     â”‚  CMD ["./start.sh"]                                            â”‚ â”‚
â”‚     â”‚                                                                 â”‚ â”‚
â”‚     â”‚  Build Status: âœ“ Complete (3-4 minutes)                        â”‚ â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                          â”‚
â”‚  5. Container Deployment                                                â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚     â”‚  Environment: Production (us-east4)                            â”‚ â”‚
â”‚     â”‚  Memory: 512MB                                                 â”‚ â”‚
â”‚     â”‚  CPU: Shared                                                   â”‚ â”‚
â”‚     â”‚                                                                 â”‚ â”‚
â”‚     â”‚  Environment Variables:                                        â”‚ â”‚
â”‚     â”‚  â”œâ”€ PORT=8080 (auto-set by Railway)                           â”‚ â”‚
â”‚     â”‚  â”œâ”€ GEMINI_API_KEY (optional)                                 â”‚ â”‚
â”‚     â”‚  â””â”€ OPENAI_API_KEY (optional)                                 â”‚ â”‚
â”‚     â”‚                                                                 â”‚ â”‚
â”‚     â”‚  Container starts: ./start.sh                                  â”‚ â”‚
â”‚     â”‚  â”œâ”€ streamlit run run.py                                       â”‚ â”‚
â”‚     â”‚  â”œâ”€ --server.port=$PORT                                        â”‚ â”‚
â”‚     â”‚  â”œâ”€ --server.address=0.0.0.0                                   â”‚ â”‚
â”‚     â”‚  â””â”€ --server.headless=true                                     â”‚ â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                          â”‚
â”‚  6. Health Check                                                        â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚     â”‚  GET https://dealer-scraper-production.up.railway.app/         â”‚ â”‚
â”‚     â”‚  Expected: HTTP 200 OK                                         â”‚ â”‚
â”‚     â”‚  Status: âœ“ Healthy                                             â”‚ â”‚
â”‚     â”‚  Retries: 0/3                                                  â”‚ â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                          â”‚
â”‚  7. Deployment Complete! âœ…                                              â”‚
â”‚     Live URL: https://dealer-scraper-production.up.railway.app/         â”‚
â”‚     Status: Active                                                      â”‚
â”‚     Uptime: 99.9%                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ Public URL accessible
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    USERS ACCESS APP           â”‚
â”‚                              â”‚
â”‚    ğŸŒ Web Browser            â”‚
â”‚    â†’ Enter dealer info       â”‚
â”‚    â†’ Extract data            â”‚
â”‚    â†’ Download Excel          â”‚
â”‚                              â”‚
â”‚    âœ… App Running!            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

TOTAL DEPLOYMENT TIME: 3-5 minutes
```

---

## ğŸ“Š Component Interaction Map

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              COMPONENT INTERACTION & DEPENDENCIES                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


                              USER
                                â”‚
                                â”‚ Interacts with
                                â–¼
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚ streamlit_app.py â”‚
                        â”‚   (UI Layer)     â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â”‚ Calls
                                 â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   scraper_service.py      â”‚
                    â”‚   (Main Coordinator)      â”‚
                    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                          â”‚              â”‚
             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚                                         â”‚
             â–¼                                         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  web_scraper.py  â”‚                    â”‚ data_service.py  â”‚
    â”‚  (Fetch Pages)   â”‚                    â”‚ (Process Data)   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                                         â”‚
             â”‚ Uses                                    â”‚ Uses
             â–¼                                         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚playwright_       â”‚                    â”‚ address_parser   â”‚
    â”‚subprocess.py     â”‚                    â”‚ data_cleaner     â”‚
    â”‚(Browser Control) â”‚                    â”‚ (Utilities)      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”‚ Returns HTML to
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ strategy_manager â”‚
    â”‚ (Select Strategy)â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”‚ Delegates to
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚         STRATEGY LAYER                   â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
    â”‚  â”‚Specific  â”‚  â”‚ Generic  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚  â”‚Strategiesâ”‚  â”‚Strategiesâ”‚ â”‚Fallbackâ”‚ â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”‚ Extracted data returns to
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ scraper_service  â”‚
    â”‚ (Aggregates)     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”‚ Sends to
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ data_service     â”‚
    â”‚ (Format & Export)â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”‚ Returns DataFrame
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ streamlit_app    â”‚
    â”‚ (Display Results)â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”‚ Provides download to
             â–¼
            USER
```

This is a visual diagram guide showing how the app works and the complete file structure!

